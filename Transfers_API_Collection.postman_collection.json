{
	"info": {
		"_postman_id": "transfers-api-collection-2024",
		"name": "Transfers API Collection",
		"description": "Complete API collection for Transfer Management - ownership transfer requests, approval workflow, and statistics",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Transfer Management",
			"item": [
				{
					"name": "Get All Transfers",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/transfers/?status=pending_approval&spv=1&search=alice",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"transfers",
								""
							],
							"query": [
								{
									"key": "status",
									"value": "pending_approval",
									"description": "Filter by status: pending_approval, approved, completed, rejected",
									"disabled": true
								},
								{
									"key": "spv",
									"value": "1",
									"description": "Filter by SPV ID",
									"disabled": true
								},
								{
									"key": "search",
									"value": "alice",
									"description": "Search by transfer ID, participant, SPV, or description",
									"disabled": true
								}
							]
						},
						"description": "Get list of all transfers (filtered by user role). Supports query parameters: status, spv, search"
					},
					"response": []
				},
				{
					"name": "Get Transfer by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/transfers/:id/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"transfers",
								":id",
								""
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						},
						"description": "Get detailed transfer information including documents"
					},
					"response": []
				},
				{
					"name": "Create Transfer Request",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"recipient\": 2,\n    \"spv\": 1,\n    \"shares\": 125,\n    \"amount\": 50000.00,\n    \"transfer_fee\": 250.00,\n    \"description\": \"Request To Transfer Tokens To External Wallet For Liquidity Purposes.\",\n    \"investor_name\": \"Alice Investor\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/transfers/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"transfers",
								""
							]
						},
						"description": "Create a new transfer request. Requester is automatically set to current user."
					},
					"response": []
				},
				{
					"name": "Update Transfer",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"recipient\": 2,\n    \"spv\": 1,\n    \"shares\": 125,\n    \"amount\": 50000.00,\n    \"transfer_fee\": 250.00,\n    \"description\": \"Updated description\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/transfers/:id/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"transfers",
								":id",
								""
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						},
						"description": "Update transfer (full update)"
					},
					"response": []
				},
				{
					"name": "Partial Update Transfer",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"description\": \"Updated description only\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/transfers/:id/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"transfers",
								":id",
								""
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						},
						"description": "Partially update transfer fields"
					},
					"response": []
				},
				{
					"name": "Delete Transfer",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/transfers/:id/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"transfers",
								":id",
								""
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						},
						"description": "Delete a transfer"
					},
					"response": []
				}
			],
			"description": "Transfer CRUD operations"
		},
		{
			"name": "Transfer Actions",
			"item": [
				{
					"name": "Get Transfer Statistics",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/transfers/statistics/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"transfers",
								"statistics",
								""
							]
						},
						"description": "Get transfer statistics: total_transfers, pending_approval, completed, rejected, approved, transfer_volume, urgent_count"
					},
					"response": []
				},
				{
					"name": "Approve Transfer",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{}"
						},
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/transfers/:id/approve/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"transfers",
								":id",
								"approve",
								""
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						},
						"description": "Approve a transfer (Admin only). Transfer must be in 'pending_approval' status."
					},
					"response": []
				},
				{
					"name": "Reject Transfer",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"rejection_reason\": \"recipient_not_verified\",\n    \"rejection_notes\": \"Recipient is not a verified investor and does not meet accreditation requirements.\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/transfers/:id/reject/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"transfers",
								":id",
								"reject",
								""
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						},
						"description": "Reject a transfer (Admin only). Requires rejection_reason. Options: recipient_not_verified, insufficient_funds, invalid_documents, compliance_issue, other"
					},
					"response": []
				},
				{
					"name": "Complete Transfer",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{}"
						},
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/transfers/:id/complete/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"transfers",
								":id",
								"complete",
								""
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						},
						"description": "Mark transfer as completed (Admin only). Transfer must be in 'approved' status."
					},
					"response": []
				},
				{
					"name": "Add Document to Transfer",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"type": "file",
									"src": []
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/transfers/:id/add_document/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"transfers",
								":id",
								"add_document",
								""
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						},
						"description": "Add a document to the transfer (form-data with file upload)"
					},
					"response": []
				}
			],
			"description": "Transfer actions: statistics, approve, reject, complete, add documents"
		},
		{
			"name": "Transfer Documents",
			"item": [
				{
					"name": "Get All Transfer Documents",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/transfer-documents/?transfer=1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"transfer-documents",
								""
							],
							"query": [
								{
									"key": "transfer",
									"value": "1",
									"description": "Filter by transfer ID",
									"disabled": true
								}
							]
						},
						"description": "Get all transfer documents (optionally filtered by transfer ID)"
					},
					"response": []
				},
				{
					"name": "Get Transfer Document by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/transfer-documents/:id/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"transfer-documents",
								":id",
								""
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						},
						"description": "Get transfer document details by ID"
					},
					"response": []
				},
				{
					"name": "Download Transfer Document",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/transfer-documents/:id/download/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"transfer-documents",
								":id",
								"download",
								""
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						},
						"description": "Download transfer document file"
					},
					"response": []
				},
				{
					"name": "Delete Transfer Document",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/transfer-documents/:id/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"transfer-documents",
								":id",
								""
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						},
						"description": "Delete a transfer document"
					},
					"response": []
				}
			],
			"description": "Transfer document management endpoints"
		},
		{
			"name": "Transfer Filters",
			"item": [
				{
					"name": "Filter by Status - Pending Approval",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/transfers/?status=pending_approval",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"transfers",
								""
							],
							"query": [
								{
									"key": "status",
									"value": "pending_approval"
								}
							]
						},
						"description": "Get all transfers pending approval"
					},
					"response": []
				},
				{
					"name": "Filter by Status - Completed",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/transfers/?status=completed",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"transfers",
								""
							],
							"query": [
								{
									"key": "status",
									"value": "completed"
								}
							]
						},
						"description": "Get all completed transfers"
					},
					"response": []
				},
				{
					"name": "Filter by Status - Rejected",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/transfers/?status=rejected",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"transfers",
								""
							],
							"query": [
								{
									"key": "status",
									"value": "rejected"
								}
							]
						},
						"description": "Get all rejected transfers"
					},
					"response": []
				},
				{
					"name": "Filter by SPV",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/transfers/?spv=1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"transfers",
								""
							],
							"query": [
								{
									"key": "spv",
									"value": "1"
								}
							]
						},
						"description": "Filter transfers by SPV ID"
					},
					"response": []
				},
				{
					"name": "Search Transfers",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/transfers/?search=TXN-001",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"transfers",
								""
							],
							"query": [
								{
									"key": "search",
									"value": "TXN-001",
									"description": "Search by transfer ID, participant, SPV, or description"
								}
							]
						},
						"description": "Search transfers by ID, participant name/email, SPV name, or description"
					},
					"response": []
				}
			],
			"description": "Transfer filtering and search examples"
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"type": "string"
		},
		{
			"key": "access_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "refresh_token",
			"value": "",
			"type": "string"
		}
	]
}

