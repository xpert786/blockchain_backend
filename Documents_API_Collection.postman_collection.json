{
	"info": {
		"_postman_id": "documents-api-collection-2024",
		"name": "Documents API Collection",
		"description": "Complete API collection for Document Management endpoints including document CRUD, signatories, and statistics",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Document Management",
			"item": [
				{
					"name": "Get All Documents",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/documents/?status=draft&document_type=investment_agreement&search=tech",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"documents",
								""
							],
							"query": [
								{
									"key": "status",
									"value": "draft",
									"description": "Filter by status: draft, pending_review, pending_signatures, signed, finalized, rejected",
									"disabled": true
								},
								{
									"key": "document_type",
									"value": "investment_agreement",
									"description": "Filter by document type",
									"disabled": true
								},
								{
									"key": "search",
									"value": "tech",
									"description": "Search by name, ID or file type",
									"disabled": true
								}
							]
						},
						"description": "Get list of all documents (filtered by user role). Supports query parameters: status, document_type, search"
					},
					"response": []
				},
				{
					"name": "Get Document by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/documents/:id/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"documents",
								":id",
								""
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						},
						"description": "Get detailed document information by ID"
					},
					"response": []
				},
				{
					"name": "Create Document",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "title",
									"value": "Investment Agreement - Tech Startup Fund Q4",
									"type": "text"
								},
								{
									"key": "description",
									"value": "Investment agreement for Q4 funding round",
									"type": "text"
								},
								{
									"key": "document_type",
									"value": "investment_agreement",
									"type": "text"
								},
								{
									"key": "file",
									"type": "file",
									"src": []
								},
								{
									"key": "version",
									"value": "1.0",
									"type": "text"
								},
								{
									"key": "status",
									"value": "draft",
									"type": "text"
								},
								{
									"key": "spv",
									"value": "1",
									"type": "text",
									"disabled": true
								},
								{
									"key": "syndicate",
									"value": "1",
									"type": "text",
									"disabled": true
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/documents/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"documents",
								""
							]
						},
						"description": "Create a new document. Use form-data to upload file. Document types: investment_agreement, kyc_documentation, term_sheet, compliance_report, transfer_agreement, operating_agreement, subscription_agreement, side_letter, other"
					},
					"response": []
				},
				{
					"name": "Update Document",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"Updated Document Title\",\n    \"description\": \"Updated description\",\n    \"status\": \"pending_review\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/documents/:id/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"documents",
								":id",
								""
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						},
						"description": "Update document (full update)"
					},
					"response": []
				},
				{
					"name": "Partial Update Document",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"Updated Title Only\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/documents/:id/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"documents",
								":id",
								""
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						},
						"description": "Partially update document fields"
					},
					"response": []
				},
				{
					"name": "Delete Document",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/documents/:id/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"documents",
								":id",
								""
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						},
						"description": "Delete a document"
					},
					"response": []
				}
			],
			"description": "Document CRUD operations"
		},
		{
			"name": "Document Actions",
			"item": [
				{
					"name": "Get Document Statistics",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/documents/statistics/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"documents",
								"statistics",
								""
							]
						},
						"description": "Get document statistics: total_documents, pending_signatures, signed_documents, rejected, draft, pending_review, finalized"
					},
					"response": []
				},
				{
					"name": "Download Document",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/documents/:id/download/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"documents",
								":id",
								"download",
								""
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						},
						"description": "Download document file"
					},
					"response": []
				},
				{
					"name": "Update Document Status",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"pending_review\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/documents/:id/update_status/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"documents",
								":id",
								"update_status",
								""
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						},
						"description": "Update document status. Status options: draft, pending_review, pending_signatures, signed, finalized, rejected. Note: finalized and rejected require admin role."
					},
					"response": []
				},
				{
					"name": "Add Signatory",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"user_id\": 2,\n    \"role\": \"Investor\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/documents/:id/add_signatory/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"documents",
								":id",
								"add_signatory",
								""
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						},
						"description": "Add a signatory to the document"
					},
					"response": []
				},
				{
					"name": "Sign Document",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{}"
						},
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/documents/:id/sign/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"documents",
								":id",
								"sign",
								""
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						},
						"description": "Sign the document (for current authenticated user). Automatically updates document status to 'signed' when all signatories have signed."
					},
					"response": []
				}
			],
			"description": "Document actions: statistics, download, status updates, signatories"
		},
		{
			"name": "Document Signatories",
			"item": [
				{
					"name": "Get All Signatories",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/document-signatories/?document=1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"document-signatories",
								""
							],
							"query": [
								{
									"key": "document",
									"value": "1",
									"description": "Filter by document ID",
									"disabled": true
								}
							]
						},
						"description": "Get all document signatories (optionally filtered by document ID)"
					},
					"response": []
				},
				{
					"name": "Get Signatory by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/document-signatories/:id/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"document-signatories",
								":id",
								""
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						},
						"description": "Get signatory details by ID"
					},
					"response": []
				},
				{
					"name": "Create Signatory",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"document\": 1,\n    \"user\": 2,\n    \"role\": \"Investor\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/document-signatories/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"document-signatories",
								""
							]
						},
						"description": "Create a new document signatory"
					},
					"response": []
				},
				{
					"name": "Update Signatory",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"document\": 1,\n    \"user\": 2,\n    \"role\": \"Updated Role\",\n    \"notes\": \"Additional notes\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/document-signatories/:id/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"document-signatories",
								":id",
								""
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						},
						"description": "Update signatory information"
					},
					"response": []
				},
				{
					"name": "Partial Update Signatory",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"role\": \"Manager\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/document-signatories/:id/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"document-signatories",
								":id",
								""
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						},
						"description": "Partially update signatory fields"
					},
					"response": []
				},
				{
					"name": "Delete Signatory",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/document-signatories/:id/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"document-signatories",
								":id",
								""
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						},
						"description": "Delete a signatory from a document"
					},
					"response": []
				}
			],
			"description": "Document signatory management endpoints"
		},
		{
			"name": "Document Filters & Search",
			"item": [
				{
					"name": "Filter by Status - Draft",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/documents/?status=draft",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"documents",
								""
							],
							"query": [
								{
									"key": "status",
									"value": "draft"
								}
							]
						},
						"description": "Get all draft documents"
					},
					"response": []
				},
				{
					"name": "Filter by Status - Pending Signatures",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/documents/?status=pending_signatures",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"documents",
								""
							],
							"query": [
								{
									"key": "status",
									"value": "pending_signatures"
								}
							]
						},
						"description": "Get all documents pending signatures"
					},
					"response": []
				},
				{
					"name": "Filter by Status - Signed",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/documents/?status=signed",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"documents",
								""
							],
							"query": [
								{
									"key": "status",
									"value": "signed"
								}
							]
						},
						"description": "Get all signed documents"
					},
					"response": []
				},
				{
					"name": "Filter by Document Type",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/documents/?document_type=investment_agreement",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"documents",
								""
							],
							"query": [
								{
									"key": "document_type",
									"value": "investment_agreement",
									"description": "Document types: investment_agreement, kyc_documentation, term_sheet, compliance_report, transfer_agreement, operating_agreement, subscription_agreement, side_letter, other"
								}
							]
						},
						"description": "Filter documents by type"
					},
					"response": []
				},
				{
					"name": "Search Documents",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/documents/?search=TechCorp",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"documents",
								""
							],
							"query": [
								{
									"key": "search",
									"value": "TechCorp",
									"description": "Search by name, ID or file type"
								}
							]
						},
						"description": "Search documents by title, document_id, description, or filename"
					},
					"response": []
				},
				{
					"name": "Combined Filters",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/blockchain-backend/api/documents/?status=pending_review&document_type=investment_agreement&search=Q4",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blockchain-backend",
								"api",
								"documents",
								""
							],
							"query": [
								{
									"key": "status",
									"value": "pending_review"
								},
								{
									"key": "document_type",
									"value": "investment_agreement"
								},
								{
									"key": "search",
									"value": "Q4"
								}
							]
						},
						"description": "Combine multiple filters: status, document_type, and search"
					},
					"response": []
				}
			],
			"description": "Document filtering and search examples"
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"type": "string"
		},
		{
			"key": "access_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "refresh_token",
			"value": "",
			"type": "string"
		}
	]
}

