{
	"info": {
		"_postman_id": "syndicate-entity-profile-api-collection",
		"name": "Syndicate Entity Profile (Step 2) API Collection",
		"description": "Complete API collection for Syndicate Entity Profile Step 2 including team member management with permissions and role-based access controls",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "üìã Step 2: Entity Profile",
			"item": [
				{
					"name": "GET Step 2 - Entity Profile Data",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/syndicate-flow/step2_entity_profile/?syndicate_id={{syndicate_id}}",
							"host": ["{{base_url}}"],
							"path": ["api", "syndicate-flow", "step2_entity_profile", ""],
							"query": [
								{
									"key": "syndicate_id",
									"value": "{{syndicate_id}}",
									"description": "Syndicate ID"
								}
							]
						},
						"description": "Get Step 2 (Entity Profile) data including team members with permissions.\n\n**Response includes:**\n- Firm name and description\n- Logo URL\n- Enable role-based access controls flag\n- Team members with their permissions\n- Team members count"
					},
					"response": []
				},
				{
					"name": "POST Step 2 - Create/Update Entity Profile (JSON)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"syndicate_id\": {{syndicate_id}},\n    \"firm_name\": \"Tech Ventures LLC\",\n    \"description\": \"Tech Ventures LLC is a leading syndicate focused on early-stage technology investments. We specialize in identifying and supporting innovative startups in AI, blockchain, and SaaS sectors.\",\n    \"enable_role_based_access_controls\": true,\n    \"team_members\": [\n        {\n            \"name\": \"John Doe\",\n            \"email\": \"john.doe@techventures.com\",\n            \"role\": \"Managing Partner\",\n            \"description\": \"15 years of experience in venture capital\",\n            \"linkedin_profile\": \"https://linkedin.com/in/johndoe\",\n            \"permissions\": {\n                \"can_create_deals\": true,\n                \"can_messaging\": true,\n                \"can_access_cap_tables\": true,\n                \"can_access_up_data\": true\n            }\n        },\n        {\n            \"name\": \"Jane Smith\",\n            \"email\": \"jane.smith@techventures.com\",\n            \"role\": \"Investment Analyst\",\n            \"description\": \"MBA from Stanford, specializes in SaaS investments\",\n            \"linkedin_profile\": \"https://linkedin.com/in/janesmith\",\n            \"permissions\": {\n                \"can_create_deals\": false,\n                \"can_messaging\": true,\n                \"can_access_cap_tables\": true,\n                \"can_access_up_data\": false\n            }\n        }\n    ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/syndicate-flow/step2_entity_profile/",
							"host": ["{{base_url}}"],
							"path": ["api", "syndicate-flow", "step2_entity_profile", ""]
						},
						"description": "Create or update Step 2 (Entity Profile) with team members and permissions using JSON.\n\n**Fields:**\n- `syndicate_id`: Required - ID of the syndicate\n- `firm_name`: Firm/Syndicate name\n- `description`: Firm description\n- `enable_role_based_access_controls`: Boolean - Enable role-based access controls\n- `team_members`: Array of team member objects with permissions\n\n**Team Member Permissions:**\n- `can_create_deals`: Permission to create deals\n- `can_messaging`: Permission for messaging\n- `can_access_cap_tables`: Permission to access cap tables\n- `can_access_up_data`: Permission to access UP data"
					},
					"response": []
				},
				{
					"name": "POST Step 2 - Create/Update with Logo Upload (Multipart)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "syndicate_id",
									"value": "{{syndicate_id}}",
									"type": "text"
								},
								{
									"key": "firm_name",
									"value": "Tech Ventures LLC",
									"type": "text"
								},
								{
									"key": "description",
									"value": "Tech Ventures LLC is a leading syndicate focused on early-stage technology investments.",
									"type": "text"
								},
								{
									"key": "enable_role_based_access_controls",
									"value": "true",
									"type": "text"
								},
								{
									"key": "syndicate_logo",
									"type": "file",
									"src": []
								},
								{
									"key": "team_members",
									"value": "[\n    {\n        \"name\": \"John Doe\",\n        \"email\": \"john.doe@techventures.com\",\n        \"role\": \"Managing Partner\",\n        \"description\": \"15 years of experience in venture capital\",\n        \"linkedin_profile\": \"https://linkedin.com/in/johndoe\",\n        \"permissions\": {\n            \"can_create_deals\": true,\n            \"can_messaging\": true,\n            \"can_access_cap_tables\": true,\n            \"can_access_up_data\": true\n        }\n    },\n    {\n        \"name\": \"Jane Smith\",\n        \"email\": \"jane.smith@techventures.com\",\n        \"role\": \"Investment Analyst\",\n        \"permissions\": {\n            \"can_create_deals\": false,\n            \"can_messaging\": true,\n            \"can_access_cap_tables\": true,\n            \"can_access_up_data\": false\n        }\n    }\n]",
									"type": "text",
									"description": "JSON string of team members array"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/syndicate-flow/step2_entity_profile/",
							"host": ["{{base_url}}"],
							"path": ["api", "syndicate-flow", "step2_entity_profile", ""]
						},
						"description": "Create or update Step 2 (Entity Profile) with logo upload and team members using multipart/form-data.\n\n**Note:** When using multipart/form-data, `team_members` must be sent as a JSON string."
					},
					"response": []
				},
				{
					"name": "POST Step 2 - Team Members Only (Update Permissions)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"syndicate_id\": {{syndicate_id}},\n    \"team_members\": [\n        {\n            \"name\": \"John Doe\",\n            \"email\": \"john.doe@techventures.com\",\n            \"role\": \"Managing Partner\",\n            \"permissions\": {\n                \"can_create_deals\": true,\n                \"can_messaging\": true,\n                \"can_access_cap_tables\": true,\n                \"can_access_up_data\": true\n            }\n        }\n    ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/syndicate-flow/step2_entity_profile/",
							"host": ["{{base_url}}"],
							"path": ["api", "syndicate-flow", "step2_entity_profile", ""]
						},
						"description": "Update only team members and their permissions. Existing team members will be replaced with the new list."
					},
					"response": []
				},
				{
					"name": "POST Step 2 - Flat Permissions Structure (Alternative)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"syndicate_id\": {{syndicate_id}},\n    \"team_members\": [\n        {\n            \"name\": \"John Doe\",\n            \"email\": \"john.doe@techventures.com\",\n            \"role\": \"Managing Partner\",\n            \"can_create_deals\": true,\n            \"can_messaging\": true,\n            \"can_access_cap_tables\": true,\n            \"can_access_up_data\": true\n        }\n    ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/syndicate-flow/step2_entity_profile/",
							"host": ["{{base_url}}"],
							"path": ["api", "syndicate-flow", "step2_entity_profile", ""]
						},
						"description": "Alternative format: Permissions can be provided at the root level of each team member object (flat structure) instead of nested in a permissions object."
					},
					"response": []
				}
			]
		},
		{
			"name": "üìù Examples - Team Member Scenarios",
			"item": [
				{
					"name": "Example 1 - Full Access Team Member",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"syndicate_id\": {{syndicate_id}},\n    \"team_members\": [\n        {\n            \"name\": \"Managing Partner\",\n            \"email\": \"partner@example.com\",\n            \"role\": \"Managing Partner\",\n            \"permissions\": {\n                \"can_create_deals\": true,\n                \"can_messaging\": true,\n                \"can_access_cap_tables\": true,\n                \"can_access_up_data\": true\n            }\n        }\n    ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/syndicate-flow/step2_entity_profile/",
							"host": ["{{base_url}}"],
							"path": ["api", "syndicate-flow", "step2_entity_profile", ""]
						},
						"description": "Example: Team member with all permissions enabled (full access)"
					},
					"response": []
				},
				{
					"name": "Example 2 - Read-Only Team Member",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"syndicate_id\": {{syndicate_id}},\n    \"team_members\": [\n        {\n            \"name\": \"Analyst\",\n            \"email\": \"analyst@example.com\",\n            \"role\": \"Investment Analyst\",\n            \"permissions\": {\n                \"can_create_deals\": false,\n                \"can_messaging\": true,\n                \"can_access_cap_tables\": true,\n                \"can_access_up_data\": false\n            }\n        }\n    ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/syndicate-flow/step2_entity_profile/",
							"host": ["{{base_url}}"],
							"path": ["api", "syndicate-flow", "step2_entity_profile", ""]
						},
						"description": "Example: Team member with read-only access (can view cap tables and message, but cannot create deals or access UP data)"
					},
					"response": []
				},
				{
					"name": "Example 3 - Multiple Team Members",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"syndicate_id\": {{syndicate_id}},\n    \"enable_role_based_access_controls\": true,\n    \"team_members\": [\n        {\n            \"name\": \"John Manager\",\n            \"email\": \"john@example.com\",\n            \"role\": \"Managing Partner\",\n            \"description\": \"15 years VC experience\",\n            \"linkedin_profile\": \"https://linkedin.com/in/johnmanager\",\n            \"permissions\": {\n                \"can_create_deals\": true,\n                \"can_messaging\": true,\n                \"can_access_cap_tables\": true,\n                \"can_access_up_data\": true\n            }\n        },\n        {\n            \"name\": \"Sarah Analyst\",\n            \"email\": \"sarah@example.com\",\n            \"role\": \"Investment Analyst\",\n            \"description\": \"MBA Stanford, SaaS specialist\",\n            \"linkedin_profile\": \"https://linkedin.com/in/sarahanalyst\",\n            \"permissions\": {\n                \"can_create_deals\": false,\n                \"can_messaging\": true,\n                \"can_access_cap_tables\": true,\n                \"can_access_up_data\": false\n            }\n        },\n        {\n            \"name\": \"Mike Legal\",\n            \"email\": \"mike@example.com\",\n            \"role\": \"Legal Counsel\",\n            \"description\": \"JD Harvard, SEC compliance expert\",\n            \"permissions\": {\n                \"can_create_deals\": false,\n                \"can_messaging\": true,\n                \"can_access_cap_tables\": false,\n                \"can_access_up_data\": false\n            }\n        }\n    ]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/syndicate-flow/step2_entity_profile/",
							"host": ["{{base_url}}"],
							"path": ["api", "syndicate-flow", "step2_entity_profile", ""]
						},
						"description": "Example: Adding multiple team members with different permission levels"
					},
					"response": []
				}
			]
		},
		{
			"name": "üìä Response Examples",
			"item": [
				{
					"name": "GET Response Structure",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/syndicate-flow/step2_entity_profile/?syndicate_id={{syndicate_id}}",
							"host": ["{{base_url}}"],
							"path": ["api", "syndicate-flow", "step2_entity_profile", ""],
							"query": [
								{
									"key": "syndicate_id",
									"value": "{{syndicate_id}}"
								}
							]
						},
						"description": "**Expected GET Response:**\n```json\n{\n  \"success\": true,\n  \"syndicate_id\": 1,\n  \"firm_name\": \"Tech Ventures LLC\",\n  \"description\": \"...\",\n  \"logo\": \"https://example.com/media/syndicate_logos/logo.png\",\n  \"enable_role_based_access_controls\": true,\n  \"team_members\": [\n    {\n      \"id\": 1,\n      \"name\": \"John Doe\",\n      \"email\": \"john@example.com\",\n      \"role\": \"Managing Partner\",\n      \"description\": \"...\",\n      \"linkedin_profile\": \"https://linkedin.com/in/johndoe\",\n      \"permissions\": {\n        \"can_create_deals\": true,\n        \"can_messaging\": true,\n        \"can_access_cap_tables\": true,\n        \"can_access_up_data\": true\n      },\n      \"added_at\": \"2025-01-15T10:30:00Z\"\n    }\n  ],\n  \"team_members_count\": 1\n}\n```"
					},
					"response": []
				},
				{
					"name": "POST Response Structure",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"syndicate_id\": {{syndicate_id}},\n    \"firm_name\": \"Tech Ventures LLC\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/syndicate-flow/step2_entity_profile/",
							"host": ["{{base_url}}"],
							"path": ["api", "syndicate-flow", "step2_entity_profile", ""]
						},
						"description": "**Expected POST Response:**\n```json\n{\n  \"success\": true,\n  \"message\": \"Step 2 completed successfully\",\n  \"syndicate_id\": 1,\n  \"firm_name\": \"Tech Ventures LLC\",\n  \"description\": \"...\",\n  \"enable_role_based_access_controls\": true,\n  \"team_members\": [\n    {\n      \"id\": 1,\n      \"name\": \"John Doe\",\n      \"email\": \"john@example.com\",\n      \"role\": \"Managing Partner\",\n      \"permissions\": {\n        \"can_create_deals\": true,\n        \"can_messaging\": true,\n        \"can_access_cap_tables\": true,\n        \"can_access_up_data\": true\n      }\n    }\n  ],\n  \"syndicate\": {...},\n  \"next_step\": \"step3_kyb_verification\"\n}\n```"
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"type": "string"
		},
		{
			"key": "access_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "syndicate_id",
			"value": "1",
			"type": "string"
		}
	]
}

