{
  "info": {
    "_postman_id": "b0378f3f-1d3f-4a0d-836a-3f0a232b8b9a",
    "name": "Unlocksley SPV API",
    "description": "Step-by-step SPV workflow covering authentication, lookup setup, SPV creation, and follow-up updates.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "01 Authentication",
      "description": "Exchange credentials for JWT access tokens.",
      "item": [
        {
          "name": "Obtain Admin Token",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"admin@example.com\",\n  \"password\": \"<admin-password>\"\n}"
            },
            "url": "{{base_url}}/api/token/"
          }
        },
        {
          "name": "Obtain Member Token (optional)",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"member@example.com\",\n  \"password\": \"<member-password>\"\n}"
            },
            "url": "{{base_url}}/api/token/"
          }
        }
      ]
    },
    {
      "name": "02 Reference Data (Setup)",
      "description": "Use an admin/staff token to seed lookup data before SPV creation.",
      "item": [
        {
          "name": "Create Portfolio Company",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{admin_token}}", "type": "text" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Acme Robotics\",\n  \"description\": \"Frontier automation systems\"\n}"
            },
            "url": "{{base_url}}/api/portfolio-companies/"
          }
        },
        {
          "name": "Create Company Stage",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{admin_token}}", "type": "text" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Seed\",\n  \"description\": \"Seed-stage companies\",\n  \"order\": 2\n}"
            },
            "url": "{{base_url}}/api/company-stages/"
          }
        },
        {
          "name": "Create Incorporation Type",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{admin_token}}", "type": "text" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Limited Liability Company\",\n  \"description\": \"LLC structure\"\n}"
            },
            "url": "{{base_url}}/api/incorporation-types/"
          }
        },
        {
          "name": "Create Instrument Type",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{admin_token}}", "type": "text" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"SAFE\",\n  \"description\": \"Simple Agreement for Future Equity\",\n  \"order\": 1\n}"
            },
            "url": "{{base_url}}/api/instrument-types/"
          }
        },
        {
          "name": "Create Share Class",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{admin_token}}", "type": "text" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Series A Preferred\",\n  \"description\": \"Series A preferred shares\",\n  \"order\": 1\n}"
            },
            "url": "{{base_url}}/api/share-classes/"
          }
        },
        {
          "name": "Create Round",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{admin_token}}", "type": "text" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Series A\",\n  \"description\": \"Series A financing\",\n  \"order\": 1\n}"
            },
            "url": "{{base_url}}/api/rounds/"
          }
        },
        {
          "name": "Create Master Partnership Entity",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{admin_token}}", "type": "text" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Unlocksley Master LP\",\n  \"description\": \"Default master partnership entity\",\n  \"order\": 1\n}"
            },
            "url": "{{base_url}}/api/master-partnership-entities/"
          }
        },
        {
          "name": "List All Reference Data",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{admin_token}}", "type": "text" }
            ],
            "url": "{{base_url}}/api/spv/options/"
          }
        }
      ]
    },
    {
      "name": "03 SPV Workflow",
      "description": "Core SPV operations using a member (deal lead) token.",
      "item": [
        {
          "name": "List SPVs",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{member_token}}", "type": "text" }
            ],
            "url": "{{base_url}}/api/spv/"
          }
        },
        {
          "name": "Create SPV (auto-create lookups)",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{member_token}}", "type": "text" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"display_name\": \"Unlocksley Alpha Fund\",\n  \"portfolio_company_name\": \"Acme Robotics\",\n  \"company_stage_name\": \"Seed\",\n  \"country_of_incorporation\": \"United States\",\n  \"incorporation_type_name\": \"Limited Liability Company\",\n  \"founder_email\": \"founder@acme.com\",\n  \"transaction_type\": \"primary\",\n  \"instrument_type_name\": \"SAFE\",\n  \"valuation_type\": \"pre_money\",\n  \"share_class_name\": \"Series A Preferred\",\n  \"round_name\": \"Series A\",\n  \"round_size\": \"5000000.00\",\n  \"allocation\": \"750000.00\",\n  \"adviser_entity\": \"platform_advisers\",\n  \"master_partnership_entity_name\": \"Unlocksley Master LP\",\n  \"fund_lead\": 1,\n  \"jurisdiction\": \"Delaware\",\n  \"entity_type\": \"LLC\",\n  \"minimum_lp_investment\": \"25000.00\",\n  \"target_closing_date\": \"2025-01-15\",\n  \"total_carry_percentage\": \"20.00\",\n  \"carry_recipient\": \"Unlocksley GP LLC\",\n  \"gp_commitment\": \"50000.00\",\n  \"deal_partners\": \"Acme Ventures, Future Capital\",\n  \"deal_name\": \"Unlocksley Alpha SPV\",\n  \"access_mode\": \"private\",\n  \"lp_invite_emails\": [\"investor1@example.com\", \"investor2@example.com\"],\n  \"lp_invite_message\": \"Excited to invite you to this SPV.\",\n  \"lead_carry_percentage\": \"5.00\",\n  \"investment_visibility\": \"hidden\",\n  \"auto_invite_active_spvs\": false,\n  \"invite_private_note\": \"Priority allocation for existing LPs.\",\n  \"invite_tags\": [\"top_lp\", \"priority\"],\n  \"deal_tags\": [\"fintech\", \"north-america\"],\n  \"syndicate_selection\": \"Unlocksley Syndicate\",\n  \"deal_memo\": \"Deal memo text here...\"\n}"
            },
            "url": "{{base_url}}/api/spv/"
          }
        },
        {
          "name": "Retrieve SPV",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{member_token}}", "type": "text" }
            ],
            "url": "{{base_url}}/api/spv/{{spv_id}}/"
          }
        },
        {
          "name": "Update SPV (PATCH)",
          "request": {
            "method": "PATCH",
            "header": [
              { "key": "Authorization", "value": "Bearer {{member_token}}", "type": "text" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"display_name\": \"Unlocksley Alpha Fund - Updated\"\n}"
            },
            "url": "{{base_url}}/api/spv/{{spv_id}}/"
          }
        },
        {
          "name": "My SPVs",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{member_token}}", "type": "text" }
            ],
            "url": "{{base_url}}/api/spv/my_spvs/"
          }
        },
        {
          "name": "Update Status (admin only)",
          "request": {
            "method": "PATCH",
            "header": [
              { "key": "Authorization", "value": "Bearer {{admin_token}}", "type": "text" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"approved\"\n}"
            },
            "url": "{{base_url}}/api/spv/{{spv_id}}/update_status/"
          }
        },
        {
          "name": "Update Step 2 (Terms)",
          "request": {
            "method": "PATCH",
            "header": [
              { "key": "Authorization", "value": "Bearer {{member_token}}", "type": "text" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"transaction_type\": \"secondary\",\n  \"instrument_type\": 1,\n  \"valuation_type\": \"post_money\",\n  \"share_class\": 1,\n  \"round\": 1,\n  \"round_size\": \"8000000.00\",\n  \"allocation\": \"1000000.00\"\n}"
            },
            "url": "{{base_url}}/api/spv/{{spv_id}}/update_step2/"
          }
        },
        {
          "name": "Update Step 3 (Adviser & Legal)",
          "request": {
            "method": "PATCH",
            "header": [
              { "key": "Authorization", "value": "Bearer {{member_token}}", "type": "text" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"adviser_entity\": \"self_advised\",\n  \"master_partnership_entity\": 1,\n  \"fund_lead\": 1\n}"
            },
            "url": "{{base_url}}/api/spv/{{spv_id}}/update_step3/"
          }
        },
        {
          "name": "Update Step 4 (Fundraising)",
          "request": {
            "method": "PATCH",
            "header": [
              { "key": "Authorization", "value": "Bearer {{member_token}}", "type": "text" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"jurisdiction\": \"Cayman Islands\",\n  \"entity_type\": \"L.P.\",\n  \"minimum_lp_investment\": \"50000.00\",\n  \"target_closing_date\": \"2025-02-01\",\n  \"total_carry_percentage\": \"22.50\",\n  \"carry_recipient\": \"Unlocksley GP Ltd\",\n  \"gp_commitment\": \"60000.00\",\n  \"deal_partners\": \"Global Ventures\",\n  \"deal_name\": \"Unlocksley Beta SPV\",\n  \"access_mode\": \"visible\"\n}"
            },
            "url": "{{base_url}}/api/spv/{{spv_id}}/update_step4/"
          }
        },
        {
          "name": "Update Step 5 (Invite LPs)",
          "request": {
            "method": "PATCH",
            "header": [
              { "key": "Authorization", "value": "Bearer {{member_token}}", "type": "text" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"lp_invite_emails\": [\"investorA@example.com\"],\n  \"lp_invite_message\": \"Welcome to the round\",\n  \"lead_carry_percentage\": \"7.50\",\n  \"investment_visibility\": \"visible\",\n  \"auto_invite_active_spvs\": true,\n  \"invite_private_note\": \"Top priority\",\n  \"invite_tags\": [\"top_lp\"],\n  \"deal_tags\": [\"ai\", \"robotics\"],\n  \"syndicate_selection\": \"Unlocksley Syndicate\",\n  \"deal_memo\": \"Latest draft memo\"\n}"
            },
            "url": "{{base_url}}/api/spv/{{spv_id}}/update_step5/"
          }
        },
        {
          "name": "Delete SPV",
          "request": {
            "method": "DELETE",
            "header": [
              { "key": "Authorization", "value": "Bearer {{member_token}}", "type": "text" }
            ],
            "url": "{{base_url}}/api/spv/{{spv_id}}/"
          }
        }
      ]
    },
    {
      "name": "04 Lookups (Read-Only)",
      "description": "Fetch lookup data using either an admin or member token.",
      "item": [
        {
          "name": "SPV Options Bundle",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{member_token}}", "type": "text" }
            ],
            "url": "{{base_url}}/api/spv/options/"
          }
        },
        {
          "name": "Company Stages",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{member_token}}", "type": "text" }
            ],
            "url": "{{base_url}}/api/lookups/company-stages/"
          }
        },
        {
          "name": "Incorporation Types",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{member_token}}", "type": "text" }
            ],
            "url": "{{base_url}}/api/lookups/incorporation-types/"
          }
        },
        {
          "name": "Instrument Types",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{member_token}}", "type": "text" }
            ],
            "url": "{{base_url}}/api/lookups/instrument-types/"
          }
        },
        {
          "name": "Share Classes",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{member_token}}", "type": "text" }
            ],
            "url": "{{base_url}}/api/lookups/share-classes/"
          }
        },
        {
          "name": "Rounds",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{member_token}}", "type": "text" }
            ],
            "url": "{{base_url}}/api/lookups/rounds/"
          }
        },
        {
          "name": "Master Partnership Entities",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{member_token}}", "type": "text" }
            ],
            "url": "{{base_url}}/api/lookups/master-partnership-entities/"
          }
        }
      ]
    },
    {
      "name": "05 Dashboard",
      "description": "Syndicate manager dashboard overview.",
      "item": [
        {
          "name": "Get Dashboard Summary",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{member_token}}", "type": "text" }
            ],
            "url": "{{base_url}}/api/spv/dashboard/"
          }
        }
      ]
    }
  ],
  "variable": [
    { "key": "base_url", "value": "http://localhost:8000/blockchain-backend" },
    { "key": "admin_token", "value": "<ADMIN_JWT>" },
    { "key": "member_token", "value": "<MEMBER_JWT>" },
    { "key": "spv_id", "value": "1" }
  ]
}



